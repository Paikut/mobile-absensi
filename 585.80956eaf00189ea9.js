"use strict";(self.webpackChunkangular_SIMAt=self.webpackChunkangular_SIMAt||[]).push([[585],{5585:(q,Z,s)=>{s.r(Z),s.d(Z,{LoginModule:()=>L});var g=s(9808),T=s(8077),p=s(6696),l=s(1777),t=s(5e3),w=s(1135);let m=(()=>{class r{constructor(){this.ToggleSubject=new w.X(!1)}back(){this.ToggleSubject.next(!1)}register(){this.ToggleSubject.next(!0)}get toggle(){return this.ToggleSubject.value}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac}),r})();var _=s(5861),o=s(3075);class b{constructor(i={}){this.username=i.username||"",this.password=i.password||""}}var u=s(7793),y=s(704),f=s(72),d=s(7322),h=s(7531),v=s(7423),C=s(5245);function x(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password minimal 8 karakter"),t.qZA())}let M=(()=>{class r{constructor(e,n,a,c,N,Y,R){this._state=e,this._fb=n,this._loginService=a,this._alertService=c,this._router=N,this._route=Y,this.spinner=R,this.hide=!0,this.loading=!1,this.form=this._fb.group(new b),this.addValidators()}addValidators(){this.f.username.addValidators([o.kI.required]),this.f.password.addValidators([o.kI.required,o.kI.minLength(8)])}get f(){return this.form.controls}register(){this._state.register()}login(){var e=this;return(0,_.Z)(function*(){var n;if(!e.form.invalid&&!e.loading)try{const a=e.form.getRawValue();e.spinner.show(),e.loading=!0,(yield e._loginService.login(a))&&e._router.navigate(["/app/home"],{relativeTo:e._route})}catch(a){console.error(a),e._alertService.alert("error","Error",null!==(n=null==a?void 0:a.Message)&&void 0!==n?n:JSON.stringify(a,null,2))}finally{e.loading=!1,e.spinner.hide()}})()}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m),t.Y36(o.qu),t.Y36(u.r),t.Y36(y.c),t.Y36(p.F0),t.Y36(p.gz),t.Y36(f.t2))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login-card"]],decls:35,vars:7,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/images/logo-ypsim.jpeg","width","130",1,"img-fluid"],[1,"col-12","text-center"],[1,"app-title"],[1,"col-12"],["appearance","standard"],["matInput","","formControlName","username","type","text","name","username","id","username"],["matInput","","formControlName","password","name","password","id","password",3,"type"],[4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-12","text-end","mb-2"],["href","#"],[1,"col-12","mb-3"],["mat-raised-button","","color","success",1,"w-100",3,"click"],["mat-raised-button","","color","grey",1,"w-100",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ngx-spinner",0)(1,"p",1),t._uU(2,"Loading..."),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6),t._UZ(8,"img",7),t.qZA(),t.TgZ(9,"div",8)(10,"p",9),t._uU(11,"SIMAt"),t.qZA()(),t.TgZ(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),t._uU(15,"Username"),t.qZA(),t._UZ(16,"input",12),t.qZA()(),t.TgZ(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),t._uU(20,"Password"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,x,2,0,"mat-error",14),t.TgZ(23,"button",15),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(24,"mat-icon"),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",16)(27,"a",17),t._uU(28,"Lupa kata sandi?"),t.qZA()(),t.TgZ(29,"div",18)(30,"button",19),t.NdJ("click",function(){return n.login()}),t._uU(31," Masuk "),t.qZA()(),t.TgZ(32,"div",10)(33,"button",20),t.NdJ("click",function(){return n.register()}),t._uU(34," Daftar "),t.qZA()()()()()()),2&e&&(t.Q6J("fullScreen",!0),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(16),t.Q6J("type",n.hide?"password":"text"),t.xp6(1),t.Q6J("ngIf",n.f.password.errors&&n.f.password.errors.minlength),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"))},directives:[f.Ro,o._Y,o.JL,o.sg,d.KE,d.hX,h.Nt,o.Fj,o.JJ,o.u,g.O5,d.TO,v.lW,d.R9,C.Hw],styles:[".card[_ngcontent-%COMP%]{border-radius:12px;max-height:calc(100vh - 3rem);box-shadow:0 4px 4px #00000048}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem;overflow:auto}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:700;font-size:22px;letter-spacing:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),r})();class O extends b{constructor(i={}){super(i),this.nik=i.nik||""}}function k(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Password minimal 8 karakter "),t.qZA())}let S=(()=>{class r{constructor(e,n,a,c){this._state=e,this._fb=n,this._alertService=a,this._loginService=c,this.hide=!0,this.loading=!1,this.form=this._fb.group(new O),this.addValidators()}addValidators(){this.f.nik.addValidators([o.kI.required]),this.f.username.addValidators([o.kI.required]),this.f.password.addValidators([o.kI.required,o.kI.minLength(8)])}get f(){return this.form.controls}back(){this._state.back()}register(){var e=this;return(0,_.Z)(function*(){var n;if(!e.form.invalid&&!e.loading)try{e.loading=!0;const a=e.form.getRawValue();yield e._loginService.register(a),e._alertService.alert("success","Behasil","Registrasi berhasil")}catch(a){e._alertService.alert("error","Error",null!==(n=a.Message)&&void 0!==n?n:JSON.stringify(a,null,2))}finally{e.loading=!1}})()}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m),t.Y36(o.qu),t.Y36(y.c),t.Y36(u.r))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-card"]],decls:34,vars:6,consts:[[1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/images/logo-ypsim.jpeg","width","130",1,"img-fluid"],[1,"col-12","text-center","mb-2"],[1,"app-title"],[1,"col-12"],["appearance","standard"],["matInput","","formControlName","nik","type","text","name","nik","id","nik"],["matInput","","formControlName","username","type","text","name","username","id","username"],["matInput","","formControlName","password","name","password","id","password",3,"type"],[4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-12","mb-3"],["mat-raised-button","","color","success",1,"w-100",3,"click"],["mat-raised-button","","color","grey",1,"w-100",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6)(7,"p",7),t._uU(8,"SIMAt"),t.qZA()(),t.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),t._uU(12,"NIK"),t.qZA(),t._UZ(13,"input",10),t.qZA()(),t.TgZ(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Username"),t.qZA(),t._UZ(18,"input",11),t.qZA()(),t.TgZ(19,"div",8)(20,"mat-form-field",9)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",12),t.YNc(24,k,2,0,"mat-error",13),t.TgZ(25,"button",14),t.NdJ("click",function(){return n.hide=!n.hide}),t.TgZ(26,"mat-icon"),t._uU(27),t.qZA()()()(),t.TgZ(28,"div",15)(29,"button",16),t.NdJ("click",function(){return n.register()}),t._uU(30," Daftar "),t.qZA()(),t.TgZ(31,"div",8)(32,"button",17),t.NdJ("click",function(){return n.back()}),t._uU(33," Kembali "),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(21),t.Q6J("type",n.hide?"password":"text"),t.xp6(1),t.Q6J("ngIf",n.f.password.errors&&n.f.password.errors.minlength),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",n.hide),t.xp6(2),t.Oqu(n.hide?"visibility_off":"visibility"))},directives:[o._Y,o.JL,o.sg,d.KE,d.hX,h.Nt,o.Fj,o.JJ,o.u,g.O5,d.TO,v.lW,d.R9,C.Hw],styles:[".card[_ngcontent-%COMP%]{border-radius:12px;max-height:calc(100vh - 3rem);box-shadow:0 4px 4px #00000048}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem;overflow:auto}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:700;font-size:22px;letter-spacing:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),r})();function A(r,i){1&r&&t._UZ(0,"app-login-card")}function I(r,i){1&r&&t._UZ(0,"app-register-card")}let U=(()=>{class r{constructor(e){this._state=e,this.hide=!0}get toggle(){return this._state.toggle}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:6,vars:4,consts:[[1,"wrapper"],[1,"container","container-xxl","py-4","px-4"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t.YNc(3,A,1,0,"app-login-card",2),t.qZA(),t.TgZ(4,"div"),t.YNc(5,I,1,0,"app-register-card",2),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("@animate",void 0),t.xp6(1),t.Q6J("ngIf",!n.toggle),t.xp6(1),t.Q6J("@animate",void 0),t.xp6(1),t.Q6J("ngIf",n.toggle))},directives:[g.O5,M,S],styles:[".wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;max-height:100vh;background-image:linear-gradient(#E0DC35,#29972B)}"],data:{animation:[(0,l.X$)("animate",[(0,l.eR)(":enter",[(0,l.oB)({})]),(0,l.eR)(":leave",[(0,l.oB)({})])])]}}),r})();const P=[{path:"",canActivate:[s(8042).i],component:U}];let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[m,u.r],imports:[[g.ez,T.IJ,o.u5,o.UX,f.ef,d.lN,h.c,C.Ps,v.ot,p.Bz.forChild(P)]]}),r})()}}]);